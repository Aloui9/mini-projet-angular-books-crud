{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/book.service\";\nimport * as i3 from \"@angular/forms\";\nexport class EditComponent {\n  constructor(actRoute, router, BookService) {\n    this.actRoute = actRoute;\n    this.router = router;\n    this.BookService = BookService;\n    this.book = {\n      id: -1,\n      title: '',\n      author: '',\n      editor: '',\n      publishDate: new Date()\n    };\n  }\n  ngOnInit() {\n    this.actRoute.paramMap.subscribe(params => {\n      // Get bookId param passed from the other route.\n      const id = params.get('bookId');\n      // The id needs to be number !\n      const book = this.BookService.getBookById(Number(id));\n      if (book) {\n        this.book = book;\n        return;\n      }\n      this.router.navigate(['/list']);\n    });\n  }\n  edit() {\n    // Object destructuring to insure that the id is a number. since i had an issue while putting something different then a number\n    const newBook = {\n      ...this.book,\n      id: Number(this.book.id)\n    };\n    // updates the actual book.\n    this.BookService.updateBook(newBook);\n    this.back();\n  }\n  back() {\n    this.router.navigate(['/list']);\n  }\n}\nEditComponent.ɵfac = function EditComponent_Factory(t) {\n  return new (t || EditComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.BookService));\n};\nEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditComponent,\n  selectors: [[\"app-edit\"]],\n  decls: 24,\n  vars: 4,\n  consts: [[1, \"my-4\", \"mx-auto\", \"container\"], [1, \"text-3xl\", \"my-4\"], [\"f\", \"ngForm\"], [1, \"grid\", \"gap-6\", \"mb-6\", \"md:grid-cols-2\", \"p-4\"], [\"for\", \"\", 1, \"block\", \"mb-2\", \"text-sm\", \"font-medium\", \"text-gray-900\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"id\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"text-sm\", \"rounded-lg\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"block\", \"w-full\", \"p-2.5\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"title\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"text-sm\", \"rounded-lg\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"block\", \"w-full\", \"p-2.5\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"author\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"text-sm\", \"rounded-lg\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"block\", \"w-full\", \"p-2.5\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"editor\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"text-sm\", \"rounded-lg\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"block\", \"w-full\", \"p-2.5\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"mx-2\", \"text-white\", \"bg-blue-700\", \"hover:bg-blue-800\", \"focus:ring-4\", \"focus:ring-blue-300\", \"font-medium\", \"rounded-lg\", \"text-sm\", \"px-5\", \"py-2.5\", \"mr-2\", \"mb-2\", \"dark:bg-blue-600\", \"dark:hover:bg-blue-700\", \"focus:outline-none\", \"dark:focus:ring-blue-800\", 3, \"click\"]],\n  template: function EditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"Edit a book\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", null, 2)(5, \"div\", 3)(6, \"div\")(7, \"label\", 4);\n      i0.ɵɵtext(8, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function EditComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.book.id = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\")(11, \"label\", 4);\n      i0.ɵɵtext(12, \" title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function EditComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.book.title = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\")(15, \"label\", 4);\n      i0.ɵɵtext(16, \" Author\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function EditComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.book.author = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\")(19, \"label\", 4);\n      i0.ɵɵtext(20, \" Editor\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function EditComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.book.editor = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function EditComponent_Template_button_click_22_listener() {\n        return ctx.edit();\n      });\n      i0.ɵɵtext(23, \" Edit \");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.id);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.title);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.author);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.editor);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlZGl0LmNvbXBvbmVudC5jc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZWRpdC9lZGl0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLGdLQUFnSyIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["EditComponent","constructor","actRoute","router","BookService","book","id","title","author","editor","publishDate","Date","ngOnInit","paramMap","subscribe","params","get","getById","Number","navigate","edit","newBook","updateOne","back","i0","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","selectors","decls","vars","consts","template","EditComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","EditComponent_Template_input_ngModelChange_9_listener","$event","EditComponent_Template_input_ngModelChange_13_listener","EditComponent_Template_input_ngModelChange_17_listener","EditComponent_Template_input_ngModelChange_21_listener","EditComponent_Template_button_click_22_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\SP-Aloui\\Documents\\Studies\\angular\\angular-tekup-book-crud-main\\src\\app\\edit\\edit.component.ts","C:\\Users\\SP-Aloui\\Documents\\Studies\\angular\\angular-tekup-book-crud-main\\src\\app\\edit\\edit.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Book } from '../models/book';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BookService } from '../services/book.service';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css'],\n})\nexport class EditComponent {\n  book: Book = {\n    id: -1,\n    title: '',\n    author: '',\n    editor: '',\n    publishDate: new Date(),\n  };\n  constructor(\n    private actRoute: ActivatedRoute,\n    private router: Router,\n    private BookService: BookService\n  ) {}\n\n  ngOnInit() {\n    this.actRoute.paramMap.subscribe((params) => {\n      // Get bookId param passed from the other route.\n      const id = params.get('bookId');\n      // The id needs to be number !\n      const book = this.BookService.getBookById(Number(id));\n      if (book) {\n        this.book = book;\n        return;\n      }\n      this.router.navigate(['/list']);\n    });\n  }\n  edit() {\n    // Object destructuring to insure that the id is a number. since i had an issue while putting something different then a number\n    const newBook = {\n      ...this.book,\n      id: Number(this.book.id),\n    };\n    // updates the actual book.\n    this.BookService.updateBook(newBook);\n    this.back();\n  }\n\n  back(){\n    this.router.navigate(['/list']);\n  }\n}\n","<div class=\"my-4 mx-auto container\">\n  <h2 class=\"text-3xl my-4\">Edit a book</h2>\n  <form #f=\"ngForm\">\n    <div class=\"grid gap-6 mb-6 md:grid-cols-2 p-4\">\n      <div>\n        <label for=\"\" class=\"block mb-2 text-sm font-medium text-gray-900\"\n          >ID</label\n        >\n        <input\n          type=\"text\"\n          class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\n          ngModel\n          [(ngModel)]=\"book.id\"\n          name=\"id\"\n        />\n      </div>\n      <div>\n        <label for=\"\" class=\"block mb-2 text-sm font-medium text-gray-900\">\n          title</label\n        >\n        <input\n          type=\"text\"\n          class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\n          ngModel\n          [(ngModel)]=\"book.title\"\n          name=\"title\"\n        />\n      </div>\n\n      <div>\n        <label for=\"\" class=\"block mb-2 text-sm font-medium text-gray-900\">\n          Author</label\n        >\n        <input\n          type=\"text\"\n          class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\n          ngModel\n          [(ngModel)]=\"book.author\"\n          name=\"author\"\n        />\n      </div>\n      <div>\n        <label for=\"\" class=\"block mb-2 text-sm font-medium text-gray-900\">\n          Editor</label\n        >\n        <input\n          type=\"text\"\n          class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\n          ngModel\n          name=\"editor\"\n          [(ngModel)]=\"book.editor\"\n        />\n      </div>\n    </div>\n\n    <button\n      class=\"mx-2 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800\"\n      type=\"submit\"\n      (click)=\"edit()\"\n    >\n      Edit\n    </button>\n  </form>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}